<!DOCTYPE html>
<html lang="en">
<head>
  <meta charset="UTF-8">
  <meta name="viewport" content="width=device-width, initial-scale=1.0">
  <title>p5.js Image Reveal Sketch</title>
  <script src="https://cdnjs.cloudflare.com/ajax/libs/p5.js/1.4.0/p5.js"></script>
</head>
<body>
  <script>
    let img;

    function preload() {
      // 이미지 파일 불러오기
      img = loadImage("https://i.giphy.com/media/v1.Y2lkPTc5MGI3NjExb2ttN3QzNjlhZXRmd2Z5M29sMDgzOGczYzVqYmp4b3A1OGRqemF6ZCZlcD12MV9pbnRlcm5hbF9naWZfYnlfaWQmY3Q9Zw/1lRrsraIsEYRW/giphy.gif");
    }

    function setup() {
      createCanvas(windowWidth, windowHeight); // 화면을 창 크기로 설정
      background("white"); // 초기 배경을 검은색으로 설정
    }

   
    function draw() {
      if (mouseIsPressed) {
        let w = 30; // 네모의 너비
        let h = 20; // 네모의 높이

        // 이미지의 실제 크기와 화면에 그려진 크기 간의 비율 계산
        let scaleX = img.width / windowWidth;
        let scaleY = img.height / windowHeight;

        // 마우스 좌표를 이미지 좌표로 변환
        let imgX = mouseX * scaleX;
        let imgY = mouseY * scaleY;

        // 잘라낸 이미지를 다시 화면에 그리기
        let croppedImage = img.get(imgX - w / 2, imgY - h / 2, w, h);
        image(croppedImage, mouseX - w / 2, mouseY - h / 2);
      }
    }

    function windowResized() {
      resizeCanvas(windowWidth, windowHeight); // 창 크기 변경 시 캔버스 크기 조정
      background("white"); // 배경을 다시 검은색으로 설정
    }
  </script>
</body>
</html>
